# Measurability, Topology


## Mesurability

Given a set $X$, we want to describe the class of sets that we intend to measure with the help of measure.

!!! definition "Definition: $\sigma$-Algebra"

    A collection $\mathcal{F}$ of subsets of $X$ is called a $\sigma$-algebra if

    1. $\emptyset$ is in $\mathcal{F}$;
    2. for any $A$ in $\mathcal{A}$ it follows that $A^c$ (stable under complementation);
    3. for any countable family $(A_n)$ of elements of $\mathcal{F}$ it follows that $\cap A_n$ is in $\mathcal{F}$ (stable under countable intersection).
    
    Elements of $\mathcal{F}$ are usually refered to as **measurable** sets (or events in probability theory).
    A tuple $(X, \mathcal{F})$ where $\mathcal{F}$ is a $\sigma$-algebra is called a **measurable space**.

By complementation stability and $\emptyset$ in $\mathcal{F}$, it follows that $X$ belongs to $\mathcal{F}$.
Note that due to De Morgan's law, it follows that a $\sigma$-algebra is stable under countable union.
Eventually, the third property can be replaced by stability under countable union.

The most simple example of $\sigma$-algebra are 

* the **trivial** $\sigma$-algebra: $\mathcal{F} = \{\emptyset, X\}$
* the **power set**: $\mathcal{F} = 2^X$

These coincide to the smallest and largest possible $\sigma$-algebra, respectively, on $X$.
Indeed for any $\sigma$-algebra $\mathcal{F}$ it holds that $\{\emptyset, X\} \subseteq \mathcal{F}\subseteq 2^X$.
Even if $\sigma$-algebra are conceptually simple objects, it is quite difficult to describe them in a meaningful way from simple components.
This is in particular relevant when we want to define measure from simple events and extend it to the whole $\sigma$-algebra.
Therefore we introduce simpler class of sets that will serve as building blocks for $\sigma$-algebra.

!!! definition "Definition: Semi-Ring, Ring, Algebra, $\pi$-system, $\lambda$-system, Monotone Class"

    A collection $\mathcal{S}$ of subsets of $X$ is called a **semi-ring** if

    * $\emptyset$ is in $\mathcal{S}$;
    * for any $A$ and $B$ in $\mathcal{S}$ it follows that $A\cap B$ is in $\mathcal{S}$;
    * for any $A$ and $B$ in $\mathcal{S}$, there exists disjoints $C_1, \ldots, C_n$ in $\mathcal{S}$ such $A\setminus B = \cup C_n$.

    -------

    A collection $\mathcal{R}$ of subsets of $X$ is called a **ring** if

    * for any $A$ and $B$ in $\mathcal{R}$ it follows that $A\cap B$ is in $\mathcal{R}$;
    * for any $A$ and $B$ in $\mathcal{R}$ if follows that $A\Delta B$ is in $\mathcal{R}$.

    ------

    A collection $\mathcal{A}$ of subsets of $X$ is called an **algebra** if

    * $\emptyset$ is in $\mathcal{A}$;
    * for any $A$ in $\mathcal{A}$ it follows that $A^c$ is in $\mathcal{A}$; 
    * for any $A$ and $B$ in $\mathcal{A}$ it follows that $A\cap B$ is in $\mathcal{A}$.

    ------

    A collection $\mathcal{P}$ of subsets of $X$ is called a **$\pi$-system** if

    1. for any $A$ and $B$ in $\mathcal{A}$ it follows that $A\cap B$ is in $\mathcal{P}$

    ------

    A collection $\mathcal{L}$ of subsets of $X$ is called a **$\lambda$-system** if

    * $\emptyset$ is in $\mathcal{L}$
    * for any $A$ in $\mathcal{L}$ it follows that $A^c$ is in $\mathcal{L}$;
    * for any disjoint countable family $(A_n)$ in $\mathcal{L}$ it follows that $\cup A_n$ is in $\mathcal{L}$.


Clearly a $\sigma$-algebra is an algebra.
Furthermore, for a ring $\mathcal{R}$ it follows that $\emptyset = A\Delta A$ belongs to $\mathcal{R}$ and from $A\cup B = (A\Delta B)\Delta (A\cap B)$ it is stable under intersection.
Hence if $\mathcal{R}$ contains $X$, it is automatically an algebra.
Reciprocally, an algebra is in particular a ring.
Finally, a ring is in particular a semi-ring.


!!! exercise

    * Show that the collection $\mathcal{S}$ of intervals of the form $(a, b]$ in $\mathbb{R}$ is a semi-ring.
      Analogously, it also holds that the collection of products $(a_1, b_1]\times \ldots \times (a_n, b_n]$ is a semi-ring in $\mathbb{R}^n$.

    * Let $X = \prod_{n \in \mathbb{N}} \{-1, 1\} = \{-1, 1\}^{\mathbb{N}}$ which is the set of sequences with values $\pm 1$.
        We call sets of the form

        \[
            C = C_1 \times C_2 \times \ldots C_n \times \{-1, 1\}\times \{-1, 1\}\times \ldots
        \]

        where $n$ is an integer and $C_k \subseteq \{-1, 1\}$ for $k=1, \ldots, n$ a **finite cylinder**.

        Show that the collection $\mathcal{S}$ of finite cylinders is a semi-ring.


Semi-rings are relatively easy to define from small building blocks.
The reason why the other class are defined is that by explicit set operations, it is possible to go from one class to the next.

Let us formulate first the notion of class generated by.
In the following, we call a class $\mathcal{Z}$ a $z$-class where $z$ is either a ring, algebra, $\pi$-system, $\lambda$-system, monotone class, $\sigma$-algebra (any of them **EXCEPT** semi-ring).

!!! proposition

    Let $(\mathcal{Z}_i)$ be any arbitrary family of $z$-classes on $X$, then it follows that $\mathcal{Z} = \cap \mathcal{Z}_i$ is a $z$-class.

    For any class $\mathcal{C}$ of subsets of $X$, there exists a smallest $z$-class denoted by $z(\mathcal{C})$ that contains $\mathcal{C}$.(1)
    {.annotate}

    1. Smallest in terms of the inclusion, that is, if $\mathcal{Z}$ is a $z$-class containing $\mathcal{C}$, then it holds that $z(\mathcal{C})\subseteq \mathcal{Z}$.


!!! proof

    We provide the proof for the case where $z$ stands for ring, the other classes follows the same argumentation.
    Let $A$ and $B$ be elements of $\cap \mathcal{Z}_i$, since $\mathcal{Z}_i$ is a ring for any $i$, it follows that $A\cap B$ and $A\Delta B$ are in $\mathcal{Z}_i$ for any $i$, thus in $\cap \mathcal{Z}_i$ showing that it is a ring.

    Let now $\mathcal{C}$ be a class of subsets of $X$ and consider the family $(\mathcal{Z}_i)$ of all $z$-class on $X$ that contains $\mathcal{C}$.
    This family is not empty as $2^X$ belongs to the family.
    Taking the intersection per definition defines the smallest $z$-class containing $\mathcal{C}$.

Semi-rings are not part of those results, however it is simple to describe the smallest ring generated by a semi-ring.

!!! proposition

    The ring $r(\mathcal{S})$ generated by a semi-ring $\mathcal{S}$ is precisely the sets of all finite unions $\cup_{k=1}^n A_k$ of disjoint elements $A_1, \ldots, A_n$ in $\mathcal{S}$.


!!! proof

    Let $\mathcal{R}$ be the collection of finite unions of disjoint elements in $\mathcal{S}$.
    By definition, the ring generated by $\mathcal{S}$ contains finite unions of disjoint elements of $\mathcal{S}$, and therefore $\mathcal{R}$ is contained in the ring generated by $\mathcal{S}$.
    We are left to show that $\mathcal{R}$ is itself a ring.
    
    Let $A=\cup_{1\leq k\leq n} A_k$ and $B=\cup_{1\leq l\leq m}B_l$ be two elements of $\mathcal{R}$, where $(A_k)_{1\leq k\leq n}$ and $(B_l)_{1\leq l\leq m}$ are two finite families of pairwise disjoint sets in $\mathcal{S}$.
    By the distributivity of $\cap$ over $\cup$, it follows that
    
    \[
    A\cap B= \cup_{1\leq k\leq n,1\leq l\leq m }A_k\cap B_l.
    \]
    
    Since $\mathcal{S}$ is stable under intersection, it follows that $A\cap B$ is a finite union of pairwise disjoint elements $(C_{kl})=(A_k\cap B_l)$ in $\mathcal{S}$, showing that $\mathcal{R}$ is stable under intersection.
    
    Let us now show that $A\Delta B=(A\setminus B)\cup (B\setminus A)$ is in $\mathcal{R}$.
    It is enough to show that $A\setminus B$ is in $\mathcal{R}$.
    It holds
    
    \[
    \begin{equation}
    A\setminus B=\bigcap_{l=1}^m (A\setminus B_l).
    \end{equation}
    \]
    
    Since $\mathcal{R}$ is stable under intersection, it is enough to show that $A\setminus C$ is in $\mathcal{R}$ for every $C$ in $\mathcal{S}$.
    It holds
    
    \[
    \begin{equation}
    A\setminus C=\bigcup_{k=1}^n \left(A_k\setminus C\right).
    \end{equation}
    \]
    
    Since $A_k$ and $C$ are elements of the semi-ring $\mathcal{S}$, it follows that
    
    \[
    \begin{equation}
    A_k\setminus C=\bigcup_{i=1}^{n_{k}} D_{ki}
    \end{equation}
    \]
    
    for each $1\leq k\leq n$, where $(D_{ki})_{1\leq i\leq n_{k}}$ is a finite disjoint family of elements in $\mathcal{S}$.
    Hence,
    
    \[
    \begin{equation}
    A\setminus C =\bigcup_{k=1}^n\bigcup_{i=1}^{n_k} D_{ki}
    \end{equation}
    \]
    
    is a finite union of pairwise disjoint elements in $\mathcal{S}$, which completes the proof.

The following theorems are similar and show how to go up the ladder from simple classes (for instance rings) to $\sigma$-algebra.


!!! theorem "Dynkin's $\pi$-$\lambda$ Theorem"
    Let $X$ be a set and $\mathcal{P}$ be a $\pi$-system.
    Then, the $\lambda$-system generated by $\mathcal{P}$ is a $\sigma$-algebra, that is $\lambda(\mathcal{P})=\sigma(\mathcal{P})$.

??? proof "Proof"
    We first show that if $\mathcal{C}$ is a $\lambda$-system closed under finite intersection, then it is a $\sigma$-algebra.
    By definition of a $\lambda$-system, we just have to check the stability under arbitrary countable union.
    To this end, let $(A_n)$ be a sequence of elements in $\mathcal{C}$ and define

    \[
    B_n=A_n\setminus \left(\cup_{k<n} A_k\right)=A_n\cap\left(\cap_{k<n}A_k^c\right), \quad n>1, \quad B_1=A_1.
    \]

    As $\mathcal{C}$ is closed under complementation and we assumed that $\mathcal{C}$ is closed under finite intersection, it follows that $(B_n)$ is a sequence of elements in $\mathcal{C}$.
    From $\cup B_n=\cup A_n$ and $(B_n)$ pairwise disjoint, it follows from the $\lambda$-system assumption on $\mathcal{C}$ that $\cup A_n=\cup B_n$ is in $\mathcal{C}$.

    Now, it clearly holds $\lambda(\mathcal{P})\subseteq \sigma(\mathcal{P})$.
    From what we just showed, we just have to check that $\lambda(\mathcal{P})$ is closed under finite intersection, since then $\lambda(\mathcal{P})$ would be a $\sigma$-algebra containing $\mathcal{P}$ and so $\sigma(\mathcal{P})\subseteq \lambda(\mathcal{P})$.
    For $D \in \lambda(\mathcal{P})$, define

    \[
    \mathcal{D}_D=\{A\subseteq X\colon A\cap D \in \lambda(\mathcal{P})\}
    \]

    which is a $\lambda$-system.
    Indeed, $\emptyset\in \mathcal{D}_D$.
    If $A \in \mathcal{D}_D$, it follows that

    \[
    A^c\cap D=(A^c\cup D^c)\cap D=(A\cap D)^c\cap D=\left( (A\cap D)\cup D^c\right)^c.
    \]

    By assumption, $A\cap D \in \lambda(\mathcal{P})$, and since $\lambda(\mathcal{P})$ is stable under complementation and countable intersection of disjoint elements, it follows that $A^c\cap D\in \lambda (\mathcal{P})$ and therefore $A^c \in \mathcal{D}_D$.
    Let now $(A_n)$ be a sequence of pairwise disjoint elements in $\mathcal{D}_D$.
    From the stability of $\lambda(\mathcal{P})$ under countable union of pairwise disjoint elements and the fact that $(\cup A_n)\cap D=\cup (A_n\cap D)$ it follows that $\cup A_n \in \mathcal{D}_D$.
    Hence, $\mathcal{D}_D$ is indeed a $\lambda$-system.

    Since $\mathcal{P}$ is stable under finite intersection, it follows that $\mathcal{P}\subseteq \mathcal{D}_B$ for every $B$ in $\mathcal{P}$.
    Hence $\lambda(\mathcal{P})\subseteq \mathcal{D}_B$ for every $B$ in $\mathcal{P}$.
    In particular, for every $A \in \lambda (\mathcal{P})$ and $B \in \mathcal{P}$, it holds $A\cap B$ is in $\lambda(\mathcal{P})\subseteq \mathcal{D}_B$.
    By definition, this also means that $B$ is in $\mathcal{D}_A$ for every $B$ in $\mathcal{P}$ and $A$ in $\lambda(\mathcal{P})$, showing that $\mathcal{P}\subseteq \mathcal{D}_A$ for every $A$ in $\lambda(\mathcal{P})$.
    Hence, $\lambda(\mathcal{P})\subseteq \mathcal{D}_A$ for every $A \in \lambda(\mathcal{P})$.
    Thus, for $A,B \in \lambda(\mathcal{P})$ it holds $B\in \mathcal{D}_A$, which by definition means $A\cap B$ is in $\lambda(\mathcal{P})$, showing that $\lambda(\mathcal{P})$ is closed under finite intersection and therefore, by the first step of the proof, a $\sigma$-algebra.

## Topology

Similar to $\sigma$-algebra that describes measurable sets, a topology is a description of the open sets of a set $X$.



!!! definition "Definition: Topology"

    A collection $\mathfrak{T}$ of subsets of a set $X$ is called a **topology** if:

    * $\emptyset$ and $X$ are in $\mathfrak{T}$.
    * $\mathfrak{T}$ is closed under finite intersection.
    * $\mathfrak{T}$ is closed under arbitrary union.

    An element $O$ in $\mathcal{T}$ is called an **open set** and the complement $F=O^c$ of an open set $O$ is called a **closed set**.
    A tuple $(X, \mathfrak{T})$ is called a **topological space**.

    A **neighborhood** of an element $x$ in $X$ is any subset $U\subseteq X$ such that $x \in O \subseteq U$ for some open set $O$.

A topology is stable under arbitrary union and finite intersection but not under complementation.
Like $\sigma$-algebras, arbitrary intersection of topologies remains a topology which allows to define topologies generated by class of sets.
Obviously, a topology can equivalently be defined by its collection of closed set that must contain $\emptyset$ and $X$, be closed under finite union as well as arbitrary union.

!!! proposition

    Let $(\mathfrak{T}_i)$ be any arbitrary family of topologies on $X$, then it follows that $\mathfrak{T} = \cap \mathfrak{T}_i$ is a topology.

    For any class $\mathcal{B}$ of subsets of $X$, there exists a smallest topology denoted by $\mathfrak{T}(\mathcal{B})$ that contains $\mathcal{B}$.

!!! proof

    The proof follows exactly the same argumentation as for the $\sigma$-algebra.



!!! definition

    A collection $\mathfrak{B}$ of subsets of a set $X$ is called a **topological base** if:

    - $\cup\{O\colon O\in \mathfrak{B}\}=X$.
    - For every $x \in O_1\cap O_2$ for $O_1,O_2 \in \mathfrak{B}$, there exists $O_3 \in \mathfrak{B}$ with $x \in O_3$ and such that $O_3\subseteq O_1\cap O_2$.

Just like the relation between a semi-ring and a ring, it holds:

!!! proposition
    Let $\mathfrak{B}$ be a topological base, and $\mathfrak{t}(\mathfrak{B})$ be the topology generated by $\mathfrak{B}$.
    Then, $\mathfrak{t}(\mathfrak{B})$ is exactly the collection of arbitrary unions of elements in $\mathfrak{B}$.

??? proof
    Denote by $\mathcal{U}(\mathfrak{B})$ the collection of arbitrary unions of elements in $\mathfrak{B}$.
    By definition of $\mathfrak{t}(\mathfrak{B})$, it follows that:

    \[
    \mathfrak{B}\subseteq \mathcal{U}(\mathfrak{B})\subseteq \mathfrak{t}(\mathfrak{B}).
    \]

    Since $\mathfrak{t}(\mathfrak{B})$ is the smallest topology containing $\mathfrak{B}$, we just have to show that $\mathcal{U}(\mathfrak{B})$ is a topology itself.
    First, $X$ belongs to $\mathcal{U}(\mathfrak{B})$ due to the first assumption of a topological base.
    Since any union over an empty family is empty, it follows that $\emptyset$ is in $\mathcal{U}(\mathfrak{B})$.  
    By definition, $\mathcal{U}(\mathfrak{B})$ is stable under arbitrary union.
    We are left to show that $\mathcal{U}(\mathfrak{B})$ is stable under intersection.
    Let $\tilde{O}_1=\cup O_i,\tilde{O}_2=\cup O_j \in \mathcal{U}(\mathfrak{B})$ for families $(O_i),(O_j)$ of elements in $\mathfrak{B}$.  
    It follows that:

    \[
    \begin{equation}
    \tilde{O}_1\cap\tilde{O}_2=\cup_{i,j} (O_i\cap O_j).
    \end{equation}
    \]

    By definition of a topological base, for every $i,j$ and every $x$ in $O_i\cap O_j$, there exists $O_{i,j}^x$ in $\mathfrak{B}$ such that $x \in O_{i,j}^x\subseteq O_i\cap O_j$.  
    Hence,

    \[
    \begin{equation}
    \cup_{x \in O_i\cap O_j}O_{i,j}^x=O_i\cap O_j.
    \end{equation}
    \]

    From this, it follows that:

    \[
    \begin{equation}
    \tilde{O}_1\cap\tilde{O}_2=\cup_{i,j, x \in O_i\cap O_j} O_{i,j}^x \in \mathcal{U}(\mathfrak{B}),
    \end{equation}
    \]

    showing that $\mathcal{U}(\mathfrak{B})$ is a topology.



For a subset $A$ of $X$, we define the **interior** and **closure** of $A$:

\[
\begin{align}
\text{Int}(A)&=\cup\{O\colon O\text{ open with }O\subseteq A\},
&
\text{Cl}(A)&=\cap\{F\colon F\text{ closed and }A\subseteq F\}.
\end{align}
\]

Clearly, $A$ is open or closed if, and only if, $A=\text{Int}(A)$ or $A=\text{Cl}(A)$, respectively.
Furthermore, by De Morgan's law, it holds that $(\text{Int}(A^c))^c = \text{Cl}(A)$ while $(\text{Cl}(A^c))^c = \text{Int}(A)$.


Let us succintly mention several definition related to specific topologies.

* A subset $Y$ of $X$ is called **dense** in $X$ if $\text{Cl}(Y) =X$.
* A topological space $X$ is called **Hausdorf** if for any two distinct elements $x\neq y$ there exists open sets $O_x \ni x$ and $O_y \ni y$ with $O_x \cap O_y = \emptyset$.
* A topological space $X$ is called **separable** if there exists a countable dense subset $Y$.
    That is, there exists a sequence $(x_n)$ of elements in $X$ such that any open set $O$ contains at least one element of the sequence.
* A topological space $X$ is called **first countable** if for each element $x$ there exists a countable family of open sets $(O_n^x)$ such that any neighborhood $U$ of $x$ there exists $n_0$ with $x \in O_{n_0}^x \subseteq U$.
* A topological space $X$ is called **second countable** if it cna be generated by a countable topological basis.
  Clearly, any second countable topological space is in particular first countable.


Towards our goal, a very important example of topological space are metric space.

!!! definition "Definition: Metric Space"

    A tuple $(X, d)$ where $d\colon X \times X \to [0, \infty)$ is called a **metric space** if the function $d$ satisfies:

    * $d(x, y) = 0$ if and only if $x = y$;
    * $d(x, y) = d(y,x)$ for any $x$ and $y$ in $X$;
    * $d(x, z) \leq d(x, y) + d(y, z)$ for any $x$, $y$ and $z$ in $X$.

    Given a metric space, $x$ in $X$ and $\varepsilon>0$, we define the ball $B_{\varepsilon}(x)$ centered in $x$ and of radius $\varepsilon$ as

    \[
      B_{\varepsilon}(x) = \{y \in X \colon d(x, y)<\varepsilon\}
    \]

    Due to the triangular inequality, it holds that the set $\mathcal{B}$ of any such ball is a topological basis and the resulting topology is called the metric topology.

    A sequence $(x_n)$ of elements in $X$ is said to **converge** to $x$ in $X$ if $d(x_n , x)\to 0$.

!!! exercise

    * Show that metric spaces are Hausdorf and first countable.
    * Show that any closed 
    
    Furthermore, if a metric space admits a countable dense subset, then it is second countable.




From a topology, it is possible to consider the $\sigma$-algebra generated by the topological base


!!! definition "Definition: Borel $\sigma$-algebra"
    Let $(X,\mathfrak{T})$ be a topological space.
    The $\sigma$-algebra generated by the open sets of $X$ is called the **Borel** $\sigma$-algebra and usually denoted by $\mathcal{B}(X)$.

!!! remark "Remark"
    In the case of $\mathbb{R}^d$, since it is generated by the countable family $\mathfrak{B}$ of open balls centered around a rational, it follows that the Borel $\sigma$-algebra $\mathcal{B}$ on $\mathbb{R}^d$ is fully generated by the topological base, that is:

    \[
    \begin{equation}
    \mathcal{B}=\sigma(\mathfrak{B}).
    \end{equation}
    \]


